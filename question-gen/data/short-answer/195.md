---
id: 195
topics: [13, 20]
source: 9
---

# Background

A king is planning to reward one of his servants. The servant is offered $n$ bags of coins, with bag $i$ having $x_i$ coins. At each turn, the servant removes a bag and receives all coins in it. After each removal, the king doubles the coins in one of the remaining bags. The game ends after $n$ turns. The servant wants to maximize coins obtained; the king wants to minimize them.

# Parts

## a

Describe the strategy each of them should deploy in deciding which bag to select in their respective turns to optimize their objectives (No proof required).

**Answer:** The servant must leave more valuable bags behind so that they can be doubled later. Thus, he always chooses the smallest bag. The king also always chooses the smallest remaining bag to double (to minimize the coins added).

## b

Assuming they play optimally as determined in part (a), design an efficient algorithm to compute how many coins the servant gets in the end, and analyze its time complexity. For full credit, your algorithm should run asymptotically faster than $\Theta(n^2)$.

**Answer:** Create a min-heap with all $x_i$ values. Servant's total initialized to 0. Iteratively: 1) Remove min and add to Servant's total. 2) Remove the new min and add its double back to the min-heap. Repeat until heap is empty. Initial heap creation takes $O(n)$. Each iteration has 2 extract-min and 1 insert, each $O(\log n)$. With $n$ total iterations, the algorithm runs in $O(n \log n)$.
