---
id: 297
topics: [17]
source: 15
---

# Background

Peripatetic Shipping Lines, Inc., owns $n$ ships and provides service to $n$ ports. Each ship visits each port exactly once over a month. The company wants to truncate each ship's schedule by having it stop at some port and remain there, while maintaining the no-conflict condition (no two ships in the same port on the same day).

# Parts

## a

How can this problem be reduced to stable matching? Define the preference lists for ships and ports.

**Answer:** Define men as ships and women as ports. Each ship ranks ports in reverse chronological order of visit (latest-visited port ranked first, since staying at a later port means fewer missed visits). Each port ranks ships in chronological order of visit (earliest-visiting ship ranked first). Run Gale-Shapley with ships proposing.

## b

Why does stability of the matching guarantee the no-conflict condition after truncation?

**Answer:** If two ships $S_i$ and $S_j$ conflict at port $P$ after truncation, then $S_i$ is assigned to stay at $P$ (starting on day $d_i$) and $S_j$ passes through $P$ on some later day $d > d_i$. Since $S_j$ visits $P$ later, port $P$ prefers $S_i$ (earlier visitor), and $S_j$ prefers $P$ to its assigned port (later visit). This forms an instability, contradicting that Gale-Shapley produced a stable matching.
