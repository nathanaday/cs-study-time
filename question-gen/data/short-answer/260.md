---
id: 260
topics: [23]
source: 13
---

# Background

Suppose you are given the exact locations and shapes of several rectangular buildings in a city, and you wish to draw the skyline (in two dimensions), eliminating hidden lines. Each building $B_i$ is a triple $(L_i, H_i, R_i)$ where $L_i$ and $R_i$ are the left and right x-coordinates and $H_i$ is the height. A skyline is a list of x-coordinates and heights arranged left to right.

# Parts

## a

Given a skyline of $n$ buildings and another skyline of $m$ buildings, show how to compute the combined skyline in $O(m + n)$ steps.

**Answer:** Merge the two skyline lists iteratively by keeping track of the current left height (initially 0) and current right height (initially 0). Find the lowest next x-coordinate in either list. If it comes from the left list, update the current left height. If from the right list, update the current right height. Output the x-coordinate and the maximum of the current left and right heights. This processes each element once, giving $O(m + n)$ time.

## b

Assume you have correctly built a solution to part (a). Design a divide and conquer algorithm to compute the skyline of a given set of $n$ buildings. Your algorithm should run in $O(n \log n)$ steps.

**Answer:** If there is one building, output its skyline directly. Otherwise, split the buildings into two groups of roughly equal size. Recursively compute the skyline for each group. Merge the two skylines using part (a) in $O(n)$ time. The recurrence is $T(n) = 2T(n/2) + O(n)$, which by the Master Theorem gives $T(n) = O(n \log n)$.
