---
id: 159
topics: [1]
source: 7
---

# Background

You have a stack data type with POP and PUSH operations, each costing 1. You need to implement a FIFO queue using two stacks (A and B) supporting ENQUEUE and DEQUEUE operations.

Implementation:
- Enqueue: Push element onto stack A.
- Dequeue: If stack B is not empty, Pop top element from B. Otherwise, Pop all elements from A and Push them onto B one at a time, then Pop the top element from B.

# Parts

## a

What is the amortized cost of ENQUEUE and DEQUEUE operations? Show your analysis using both the aggregate method and the accounting method.

**Answer:** Aggregate method: A worst-case sequence is $n$ Enqueues followed by 1 Dequeue, totaling $n + 1$ operations. Total cost: $T(n+1) = n$ (pushes onto A) $+ n$ (pops from A) $+ n$ (pushes onto B) $+ 1$ (pop from B) $= 3n + 1$. Average cost per operation: $(3n + 1)/(n + 1) \approx 3 = O(1)$. Accounting method: Charge Enqueue 3 units (1 actual push + 2 credit saved). Charge Dequeue 1 unit. Each element pushed onto A has 2 credits saved. When Dequeue triggers a transfer, each element uses its 2 credits to pay for 1 pop from A and 1 push onto B. The final pop from B is paid by the Dequeue charge. Amortized cost: Enqueue = $O(1)$, Dequeue = $O(1)$.
