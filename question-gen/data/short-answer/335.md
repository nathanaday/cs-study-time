---
id: 335
topics: [23]
source: 19
---

# Background

You have two separate databases, each containing $n$ numerical values (all $2n$ values distinct). You want to find the median (the $n$-th smallest) of the combined $2n$ values. A single query to a database returns its $k$-th smallest value.

# Parts

## a

Describe an algorithm using $O(\log n)$ queries.

**Answer:** Binary search on the rank $k$ in database $A$. Guess that the median is $A$'s $k$-th smallest element $a$. If $a$ is the overall $n$-th smallest, exactly $n-k$ elements from $B$ must be smaller. Query $B$ for its $(n-k)$-th and $(n-k+1)$-th smallest values. If $a$ falls between them, we found the median. If $a$ is too large, search lower in $A$; if too small, search higher. Each iteration halves the search range and uses $O(1)$ queries, giving $O(\log n)$ total.
