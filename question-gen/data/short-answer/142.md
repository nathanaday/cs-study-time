---
id: 142
topics: [13, 14]
source: 4
---

# Background

Suppose you are given two sequences, $A$ and $B$, of $n$ positive integers each. You are allowed to permute the numbers in $A$ and $B$ (rearrange within each sequence, but not swap between sequences). After permuting, let $a_i$ be the $i$-th number in $A$ and $b_i$ be the $i$-th number in $B$. Given this arrangement, you receive a score of $\prod_{i=1}^{n} a_i^{b_i}$.

# Parts

## a

Design an efficient algorithm for permuting the numbers so as to maximize the resulting score. Prove its correctness and analyze the running time.

**Answer:** Fix any order for $A$ and only permute $B$. WLOG assume $A$ is sorted in increasing order. We claim sorting $B$ in increasing order maximizes the score. Proof by exchange argument: Consider an optimal solution where $B$ is not sorted. Then there exists an inversion, i.e., indices $i < j$ where $b_i > b_j$. Since $A$ is sorted, $a_i \leq a_j$. The ratio of scores when swapping $b_i, b_j$ is $(a_j/a_i)^{(b_i - b_j)} \geq 1$ (since $a_j/a_i \geq 1$ and $b_i - b_j > 0$). So swapping can only increase the score. Iteratively removing all inversions gives $B$ sorted in increasing order. Time complexity: $O(n \log n)$ for sorting both $A$ and $B$.
