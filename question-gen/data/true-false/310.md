---
id: 310
topics: [3, 4, 2]
source: 17
---

# Question

If a connected graph $G$ has the same BFS tree and DFS tree $T$ (both rooted at the same vertex $u$), then $G = T$ (i.e., $G$ has no edges outside $T$).

# Answer

True

# Explanation

Suppose edge $(v,w) \in G$ but $(v,w) \notin T$. By the DFS property, one of $v,w$ is an ancestor of the other; say $v$ is an ancestor of $w$ with depth$(w) \ge$ depth$(v) + 1$. Since $T$ is both BFS and DFS tree, depth equals BFS layer. By the BFS property, $|$layer$(v) -$ layer$(w)| \le 1$ for any edge, so depth$(w) =$ depth$(v) + 1$, meaning $v$ is the parent of $w$ in $T$. But then $(v,w) \in T$, a contradiction.
